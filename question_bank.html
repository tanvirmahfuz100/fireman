<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Question Bank - Fireman</title>
    <link rel="stylesheet" href="styles/main.css">
    <!-- FontAwesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Google Fonts for premium typography -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ЁЯФе</text></svg>">
</head>
<body>
    <!-- Header from access (3).html -->
    <header class="fireman-header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-fire" style="color: #ff5722; margin-right: 8px; text-shadow: 0 2px 4px rgba(255,87,34,0.3);"></i>
                <span style="font-weight: 700;">Fireman</span>
            </div>
            <button class="menu-toggle"><i class="fa fa-bars"></i></button>
            <nav class="main-nav">
                <a href="index.html" class="nav-item">Home</a>
                <a href="about.html" class="nav-item">About</a>
                <a href="contact.html" class="nav-item">Contact</a>
                <a href="question_bank.html" class="nav-item">Question Bank</a>
            </nav>
        </div>
    </header>

    <main class="fireman-container">
        <h1>Question Bank</h1>
        
        <!-- Welcome Message Broken Down -->
        <div class="welcome-message">
            <div class="welcome-header">
                <i class="fas fa-graduation-cap welcome-icon"></i>
                <h2 class="welcome-title">Welcome to FiremanтАЩs Question Bank!</h2>
            </div>
            <div class="welcome-step">
                <i class="fas fa-university step-icon step-icon-purple"></i>
                <p>ржЖржкржирж┐ ржпржжрж┐ ржмрж░рж┐рж╢рж╛рж▓ ржмрж┐рж╢рзНржмржмрж┐ржжрзНржпрж╛рж▓ржпрж╝рзЗрж░ ржПржХрж╛ржЙржирзНржЯрж┐ржВ ржЕрзНржпрж╛ржирзНржб ржЗржиржлрж░ржорзЗрж╢ржи рж╕рж┐рж╕рзНржЯрзЗржорж╕ ржмрж┐ржнрж╛ржЧрзЗрж░ рж╢рж┐ржХрзНрж╖рж╛рж░рзНржерзА рж╣ржи,</p>
            </div>
            <div class="welcome-step">
                <i class="fas fa-book-open step-icon step-icon-orange"></i>
                <p>Fireman ржЖржкржирж╛рж░ ржЬржирзНржп ржирж┐ржпрж╝рзЗ ржПрж╕рзЗржЫрзЗ <strong>Question Bank Archive</strong>тАФржкрж░рзАржХрзНрж╖рж╛рж░ ржкрзНрж░рж╕рзНрждрзБрждрж┐ржХрзЗ ржЖрж░ржУ рж╕рж╣ржЬ ржУ ржХрж╛рж░рзНржпржХрж░ ржХрж░рж╛рж░ рж╕рзЗрж░рж╛ рж╕ржЩрзНржЧрзА!</p>
            </div>
            <div class="welcome-step">
                <i class="fas fa-list-alt step-icon step-icon-green"></i>
                <p>ржЙржкрж░рзЗ ржЖржкржирж╛рж░ ржкржЫржирзНржжрзЗрж░ ржмрж░рзНрж╖, рж╕рзЗржорж┐рж╕рзНржЯрж╛рж░ ржПржмржВ ржХрзЛрж░рзНрж╕ рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рзЗ ржкрзБрж░рзЛржирзЛ ржмржЫрж░рзЗрж░ ржкрзНрж░рж╢рзНржиржкрждрзНрж░ ржжрзЗржЦрзБржиред</p>
            </div>
            <div class="welcome-step">
                <i class="fas fa-eye step-icon step-icon-blue"></i>
                <p>ржЙрждрзНрждрж░ ржЬрж╛ржирждрзЗ ржЪрж╛ржЗрж▓рзЗ ржкрзНрж░рж╢рзНржи рж╕рзЗржЯрзЗрж░ ржкрж╛рж╢рзЗ <span class="highlight">Show Answer</span> ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рзБржи!</p>
            </div>
        </div>

        <!-- Selection Filters -->
        <div class="filter-section">
            <select id="yearSelect" class="filter-dropdown">
                <option value="">Select Year</option>
            </select>
            <select id="semesterSelect" class="filter-dropdown" disabled>
                <option value="">Select Semester</option>
            </select>
            <select id="courseSelect" class="filter-dropdown" disabled>
                <option value="">Select Course</option>
            </select>
        </div>

        <!-- Questions Container -->
        <div id="questionsContainer"></div>
    </main>

    <!-- Coffee Container (Footer) from access (3).html -->
    <div class="coffee-container">
        <div class="coffee-button" onclick="toggleBkashInfo()">
            <i class="fas fa-mug-hot coffee-icon"></i>
            Buy me a ржжрзБржз ржЪрж╛
        </div>
        <div class="bkash-info" id="bkashInfo">
            <button class="close-btn" onclick="toggleBkashInfo()">├Ч</button>
            <h3>ржжрзБржз ржЪрж╛ ржЦрж╛ржУрзЯрж╛ржи!</h3>
            <p>ржПрждржЧрзБрж▓рзЛ ржкрзЗржЗржб рж╕рж╛рж░рзНржнрж┐рж╕ ржлрзНрж░рж┐ рждрзЗ ржкрж╛ржЪрзНржЫрзЗржи, ржорж╛рждрзНрж░ рзирзж ржЯрж╛ржХрж╛ ржжрж┐рзЯрзЗ ржПржХ ржХрж╛ржк ржжрзБржз ржЪрж╛ рждрзЛ ржЦрж╛ржУрзЯрж╛рждрзЗржЗ ржкрж╛рж░рзЗржиред ЁЯШД</p>
            <p>ржЖржкржирж╛рж░ ржХржирзНржЯрзНрж░рж┐ржмрж┐ржЙрж╢ржи Fireman-ржХрзЗ ржЖрж░рзЛ ржмрзЬ ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗред</p>
            <div class="payment-options">
                <div class="payment-method bkash">
                    <strong>ржмрж┐ржХрж╛рж╢ (ржкрж╛рж░рзНрж╕рзЛржирж╛рж▓):</strong> <span id="bkashNumber">+8801884581816</span>
                    <button class="copy-btn bkash" onclick="copyNumber('bkashNumber')">ржХржкрж┐ ржХрж░рзБржи</button>
                </div>
                <div class="payment-method nagad">
                    <strong>ржиржЧржж (ржкрж╛рж░рзНрж╕рзЛржирж╛рж▓):</strong> <span id="nagadNumber">+8801884581816</span>
                    <button class="copy-btn nagad" onclick="copyNumber('nagadNumber')">ржХржкрж┐ ржХрж░рзБржи</button>
                </div>
            </div>
            <p>рж░рзЗржлрж╛рж░рзЗржирзНрж╕ рж╣рж┐рж╕рзЗржмрзЗ ржирж┐ржЬрзЗрж░ ржирж╛ржо add ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред</p>
            <p>ржпрж╛рж░рж╛ ржжрзБржз ржЪрж╛ ржЦрж╛ржУрзЯрж╛ржмрзЗржи рждрж╛рж░рж╛ ржЕржЧрзНрж░рж╛ржзрж┐ржХрж╛рж░ ржкрж╛ржмрзЗржиред ржпрзЗржХрзЛржирзЛ ржХрзЛрж░рзНрж╕ ржорзНржпрж╛ржЯрж┐рж░рж┐рзЯрж╛рж▓, рж░рж┐рж╕рзЛрж░рзНрж╕ ржлрж╛ржЗрж▓, ржПржбрзБржХрзЗрж╢ржирж╛рж▓ рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ рж░рж┐ржХрзБрзЯрзЗрж╕рзНржЯ ржЬрж╛ржирж╛рждрзЗ ржкрж╛рж░рзЗржиред</p>
            <a href="https://wa.me/8801884581816" target="_blank" class="whatsapp-btn">WhatsApp ржП ржорзЗрж╕рзЗржЬ ржХрж░рзБржи</a>
        </div>
    </div>

    <script>
        // Course data structure
        const courses = {
            "First Year": {
                "1st Semester": ["AIS-1101", "AIS-1102", "AIS-1103", "AIS-1104", "AIS-1105"],
                "2nd Semester": ["AIS-1201", "AIS-1202", "AIS-1203", "AIS-1204", "AIS-1205", "AIS-1206"]
            },
            "Second Year": {
                "1st Semester": ["AIS-2101", "AIS-2102", "AIS-2103", "AIS-2104", "AIS-2105"],
                "2nd Semester": ["AIS-2201", "AIS-2202", "AIS-2203", "AIS-2204", "AIS-2205", "AIS-2206"]
            },
            "Third Year": {
                "1st Semester": ["AIS-3101", "AIS-3102", "AIS-3103", "AIS-3104", "AIS-3105", "AIS-3106"],
                "2nd Semester": ["AIS-3201", "AIS-3202", "AIS-3203", "AIS-3204", "AIS-3205", "AIS-3206"]
            },
            "Fourth Year": {
                "1st Semester": ["AIS-4101", "AIS-4102", "AIS-4103", "AIS-4104", "AIS-4105"],
                "2nd Semester": ["AIS-4201", "AIS-4202", "AIS-4203", "AIS-4204", "AIS-4205", "AIS-4206"]
            }
        };

        // DOM Elements
        const yearSelect = document.getElementById('yearSelect');
        const semesterSelect = document.getElementById('semesterSelect');
        const courseSelect = document.getElementById('courseSelect');
        const questionsContainer = document.getElementById('questionsContainer');

        // Populate Year dropdown
        Object.keys(courses).forEach(year => {
            const option = document.createElement('option');
            option.value = year;
            option.textContent = year;
            yearSelect.appendChild(option);
        });

        // Year change handler
        yearSelect.addEventListener('change', () => {
            semesterSelect.disabled = false;
            semesterSelect.innerHTML = '<option value="">Select Semester</option>';
            courseSelect.innerHTML = '<option value="">Select Course</option>';
            courseSelect.disabled = true;
            
            Object.keys(courses[yearSelect.value]).forEach(semester => {
                const option = document.createElement('option');
                option.value = semester;
                option.textContent = semester;
                semesterSelect.appendChild(option);
            });
        });

        // Semester change handler
        semesterSelect.addEventListener('change', () => {
            courseSelect.disabled = false;
            courseSelect.innerHTML = '<option value="">Select Course</option>';
            
            courses[yearSelect.value][semesterSelect.value].forEach(course => {
                const option = document.createElement('option');
                option.value = course;
                option.textContent = course;
                courseSelect.appendChild(option);
            });
        });

        // Course change handler
        courseSelect.addEventListener('change', async () => {
            const coursePath = `questions/${courseSelect.value}`;
            questionsContainer.innerHTML = '';
            let setNumber = 1;
            let hasQuestions = false;

            while (true) {
                const setName = `set${setNumber}`;
                const queUrl = `${coursePath}/${setName}_que.html`;
                const ansUrl = `${coursePath}/${setName}_ans.html`;

                try {
                    const queResponse = await fetch(queUrl);
                    if (!queResponse.ok) {
                        break;
                    }
                    const question = await queResponse.text();
                    hasQuestions = true;

                    let answer = 'No answers are available for this set currently';
                    try {
                        const ansResponse = await fetch(ansUrl);
                        if (ansResponse.ok) {
                            answer = await ansResponse.text();
                        }
                    } catch (ansError) {
                        console.warn(`No answer file found for ${setName}`);
                    }

                    questionsContainer.innerHTML += `
                        <div class="question-set">
                            <div class="question-header">
                                <h3><i class="fas fa-question-circle"></i> Question Set ${setNumber}</h3>
                                <button class="show-answer" id="toggle-${setName}" onclick="toggleAnswer('${setName}')">
                                    Show Answer
                                </button>
                            </div>
                            <div class="question-content">${question}</div>
                            <div class="answer" id="${setName}_answer" style="display: none;">${answer}</div>
                        </div>
                    `;
                    setNumber++;
                } catch (error) {
                    console.error(`Error fetching ${setName}:`, error);
                    break;
                }
            }

            if (!hasQuestions) {
                questionsContainer.innerHTML = `<p class="info"><i class="fas fa-info-circle"></i> No questions are available currently</p>`;
            }
        });

        // Toggle answer visibility and button text
        function toggleAnswer(setName) {
            const answer = document.getElementById(`${setName}_answer`);
            const button = document.getElementById(`toggle-${setName}`);
            if (answer.style.display === 'none') {
                answer.style.display = 'block';
                button.textContent = 'Hide Answer';
            } else {
                answer.style.display = 'none';
                button.textContent = 'Show Answer';
            }
        }

        // Mobile Menu Toggle
        document.querySelector('.menu-toggle').addEventListener('click', () => {
            document.querySelector('nav.main-nav').classList.toggle('active');
        });

        // Coffee Container Functions
        let clickListenerActive = false;
        function toggleBkashInfo() {
            const info = document.getElementById('bkashInfo');
            info.classList.toggle('show');
            
            if (info.classList.contains('show') && !clickListenerActive) {
                document.addEventListener('click', closeOnClickOutside);
                clickListenerActive = true;
            } else {
                document.removeEventListener('click', closeOnClickOutside);
                clickListenerActive = false;
            }
        }

        function closeOnClickOutside(event) {
            const info = document.getElementById('bkashInfo');
            const button = document.querySelector('.coffee-button');
            if (!info.contains(event.target) && !button.contains(event.target)) {
                info.classList.remove('show');
                document.removeEventListener('click', closeOnClickOutside);
                clickListenerActive = false;
            }
        }

        function copyNumber(id) {
            const number = document.getElementById(id).textContent.trim();
            navigator.clipboard.writeText(number).then(() => {
                const btn = document.getElementById(id).nextElementSibling;
                btn.textContent = 'ржХржкрж┐ рж╣рзЯрзЗржЫрзЗ!';
                setTimeout(() => btn.textContent = 'ржХржкрж┐ ржХрж░рзБржи', 2000);
            });
        }
    </script>
</body>
</html>
